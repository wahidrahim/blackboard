// Generated by CoffeeScript 1.10.0
var canvas, socket;

socket = io();

canvas = new fabric.Canvas('canvas', {
  backgroundColor: '#222',
  width: 1152,
  height: 720,
  isDrawingMode: true
});

canvas.on('path:created', function(e) {
  console.log(e.path.toSVG());
  return socket.emit('add path', e.path.toJSON());
});

$('#undo').click(function(e) {});

$('#color').change(function(e) {
  var val;
  val = $('#color').val();
  canvas.freeDrawingBrush.color = val;
  return $('#brush-style').css({
    'background': val
  });
});

$('#width').on('input', function(e) {
  var val;
  val = $('#width').val();
  canvas.freeDrawingBrush.width = val;
  $('#widthField').val(val);
  return $('#brush-style').css({
    'height': val,
    'width': val
  });
});

$('#color').change();

$('#width').trigger('input');
